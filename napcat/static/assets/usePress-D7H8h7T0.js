import{cu as fe,cv as de,cc as Y,cw as ue,ce as te,cx as re,bE as K,cy as pe,bD as ve,aQ as x,cz as be,cA as $e,bF as y,cB as $,cC as ye,cD as ge,a4 as ne,cE as Pe,cF as W,cG as Te,cH as he,cI as Ee,aT as me,cJ as j}from"./index-DPvthqng.js";import{r as E,R as xe}from"./react-router-dom-1tQCWL6Q.js";const Se=E.createContext({isNative:!0,open:Ke,useHref:e=>e});function ae(){return E.useContext(Se)}function ke(e,a){let i=e.getAttribute("target");return(!i||i==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!a.metaKey&&!a.ctrlKey&&!a.altKey&&!a.shiftKey}function C(e,a,i=!0){var l,c;let{metaKey:v,ctrlKey:b,altKey:u,shiftKey:T}=a;fe()&&(!((c=window.event)===null||c===void 0||(l=c.type)===null||l===void 0)&&l.startsWith("key"))&&e.target==="_blank"&&(Y()?v=!0:b=!0);let h=de()&&Y()&&!ue()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:v,ctrlKey:b,altKey:u,shiftKey:T}):new MouseEvent("click",{metaKey:v,ctrlKey:b,altKey:u,shiftKey:T,bubbles:!0,cancelable:!0});C.isOpening=i,te(e),e.dispatchEvent(h),C.isOpening=!1}C.isOpening=!1;function we(e,a){if(e instanceof HTMLAnchorElement)a(e);else if(e.hasAttribute("data-href")){let i=document.createElement("a");i.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(i.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(i.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(i.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(i.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(i),a(i),e.removeChild(i)}}function Ke(e,a){we(e,i=>C(i,a))}function Oe(e){let a=ae();var i;const l=a.useHref((i=e.href)!==null&&i!==void 0?i:"");return{"data-href":e.href?l:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function Ue(e){let a=ae();var i;const l=a.useHref((i=e==null?void 0:e.href)!==null&&i!==void 0?i:"");return{href:e!=null&&e.href?l:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}function De(e,a,i,l){!a.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&ke(e.currentTarget,e)&&i&&(e.preventDefault(),a.open(e.currentTarget,e,i,l))}let A="default",G="",D=new WeakMap;function Ae(e){if(re()){if(A==="default"){const a=K(e);G=a.documentElement.style.webkitUserSelect,a.documentElement.style.webkitUserSelect="none"}A="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let a="userSelect"in e.style?"userSelect":"webkitUserSelect";D.set(e,e.style[a]),e.style[a]="none"}}function J(e){if(re()){if(A!=="disabled")return;A="restoring",setTimeout(()=>{pe(()=>{if(A==="restoring"){const a=K(e);a.documentElement.style.webkitUserSelect==="none"&&(a.documentElement.style.webkitUserSelect=G||""),G="",A="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&D.has(e)){let a=D.get(e),i="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[i]==="none"&&(e.style[i]=a),e.getAttribute("style")===""&&e.removeAttribute("style"),D.delete(e)}}const ie=xe.createContext({register:()=>{}});ie.displayName="PressResponderContext";function Ce(e){let a=E.useContext(ie);if(a){let{register:i,...l}=a;e=ne(l,e),i()}return Pe(a,e.ref),e}var O=new WeakMap;class U{continuePropagation(){W(this,O,!1)}get shouldStopPropagation(){return Te(this,O)}constructor(a,i,l,c){he(this,O,{writable:!0,value:void 0}),W(this,O,!0);var v;let b=(v=c==null?void 0:c.target)!==null&&v!==void 0?v:l.currentTarget;const u=b==null?void 0:b.getBoundingClientRect();let T,h=0,M,g=null;l.clientX!=null&&l.clientY!=null&&(M=l.clientX,g=l.clientY),u&&(M!=null&&g!=null?(T=M-u.left,h=g-u.top):(T=u.width/2,h=u.height/2)),this.type=a,this.pointerType=i,this.target=l.currentTarget,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.x=T,this.y=h}}const Q=Symbol("linkClicked"),q="react-aria-pressable-style",Z="data-react-aria-pressable";function He(e){let{onPress:a,onPressChange:i,onPressStart:l,onPressEnd:c,onPressUp:v,onClick:b,isDisabled:u,isPressed:T,preventFocusOnPress:h,shouldCancelOnPointerExit:M,allowTextSelectionOnPress:g,ref:H,...le}=Ce(e),[oe,X]=E.useState(!1),k=E.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:I,removeAllGlobalListeners:R}=ve(),L=x((t,s)=>{let d=k.current;if(u||d.didFirePressStart)return!1;let r=!0;if(d.isTriggeringEvent=!0,l){let o=new U("pressstart",s,t);l(o),r=o.shouldStopPropagation}return i&&i(!0),d.isTriggeringEvent=!1,d.didFirePressStart=!0,X(!0),r}),w=x((t,s,d=!0)=>{let r=k.current;if(!r.didFirePressStart)return!1;r.didFirePressStart=!1,r.isTriggeringEvent=!0;let o=!0;if(c){let n=new U("pressend",s,t);c(n),o=n.shouldStopPropagation}if(i&&i(!1),X(!1),a&&d&&!u){let n=new U("press",s,t);a(n),o&&(o=n.shouldStopPropagation)}return r.isTriggeringEvent=!1,o}),_=x((t,s)=>{let d=k.current;if(u)return!1;if(v){d.isTriggeringEvent=!0;let r=new U("pressup",s,t);return v(r),d.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),m=x(t=>{let s=k.current;if(s.isPressed&&s.target){s.didFirePressStart&&s.pointerType!=null&&w(S(s.target,t),s.pointerType,!1),s.isPressed=!1,s.isOverTarget=!1,s.activePointerId=null,s.pointerType=null,R(),g||J(s.target);for(let d of s.disposables)d();s.disposables=[]}}),V=x(t=>{M&&m(t)}),F=x(t=>{u||b==null||b(t)}),z=x((t,s)=>{if(!u&&b){let d=new MouseEvent("click",t);be(d,s),b($e(d))}}),ce=E.useMemo(()=>{let t=k.current,s={onKeyDown(r){if(B(r.nativeEvent,r.currentTarget)&&y(r.currentTarget,$(r.nativeEvent))){var o;ee($(r.nativeEvent),r.key)&&r.preventDefault();let n=!0;if(!t.isPressed&&!r.repeat){t.target=r.currentTarget,t.isPressed=!0,t.pointerType="keyboard",n=L(r,"keyboard");let f=r.currentTarget,p=P=>{B(P,f)&&!P.repeat&&y(f,$(P))&&t.target&&_(S(t.target,P),"keyboard")};I(K(r.currentTarget),"keyup",me(p,d),!0)}n&&r.stopPropagation(),r.metaKey&&Y()&&((o=t.metaKeyEvents)===null||o===void 0||o.set(r.key,r.nativeEvent))}else r.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(r){if(!(r&&!y(r.currentTarget,$(r.nativeEvent)))&&r&&r.button===0&&!t.isTriggeringEvent&&!C.isOpening){let o=!0;if(u&&r.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Ee(r.nativeEvent))){let n=L(r,"virtual"),f=_(r,"virtual"),p=w(r,"virtual");F(r),o=n&&f&&p}else if(t.isPressed&&t.pointerType!=="keyboard"){let n=t.pointerType||r.nativeEvent.pointerType||"virtual",f=_(S(r.currentTarget,r),n),p=w(S(r.currentTarget,r),n,!0);o=f&&p,t.isOverTarget=!1,F(r),m(r)}t.ignoreEmulatedMouseEvents=!1,o&&r.stopPropagation()}}},d=r=>{var o;if(t.isPressed&&t.target&&B(r,t.target)){var n;ee($(r),r.key)&&r.preventDefault();let p=$(r),P=y(t.target,$(r));w(S(t.target,r),"keyboard",P),P&&z(r,t.target),R(),r.key!=="Enter"&&N(t.target)&&y(t.target,p)&&!r[Q]&&(r[Q]=!0,C(t.target,r,!1)),t.isPressed=!1,(n=t.metaKeyEvents)===null||n===void 0||n.delete(r.key)}else if(r.key==="Meta"&&(!((o=t.metaKeyEvents)===null||o===void 0)&&o.size)){var f;let p=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let P of p.values())(f=t.target)===null||f===void 0||f.dispatchEvent(new KeyboardEvent("keyup",P))}};if(typeof PointerEvent<"u"){s.onPointerDown=n=>{if(n.button!==0||!y(n.currentTarget,$(n.nativeEvent)))return;if(ye(n.nativeEvent)){t.pointerType="virtual";return}t.pointerType=n.pointerType;let f=!0;if(!t.isPressed){t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=n.pointerId,t.target=n.currentTarget,g||Ae(t.target),f=L(n,t.pointerType);let p=$(n.nativeEvent);"releasePointerCapture"in p&&p.releasePointerCapture(n.pointerId),I(K(n.currentTarget),"pointerup",r,!1),I(K(n.currentTarget),"pointercancel",o,!1)}f&&n.stopPropagation()},s.onMouseDown=n=>{if(y(n.currentTarget,$(n.nativeEvent))&&n.button===0){if(h){let f=ge(n.target);f&&t.disposables.push(f)}n.stopPropagation()}},s.onPointerUp=n=>{!y(n.currentTarget,$(n.nativeEvent))||t.pointerType==="virtual"||n.button===0&&!t.isPressed&&_(n,t.pointerType||n.pointerType)},s.onPointerEnter=n=>{n.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,L(S(t.target,n),t.pointerType))},s.onPointerLeave=n=>{n.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,w(S(t.target,n),t.pointerType,!1),V(n))};let r=n=>{if(n.pointerId===t.activePointerId&&t.isPressed&&n.button===0&&t.target){if(y(t.target,$(n))&&t.pointerType!=null){let f=!1,p=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(f?m(n):(te(t.target),t.target.click()))},80);I(n.currentTarget,"click",()=>f=!0,!0),t.disposables.push(()=>clearTimeout(p))}else m(n);t.isOverTarget=!1}},o=n=>{m(n)};s.onDragStart=n=>{y(n.currentTarget,$(n.nativeEvent))&&m(n)}}return s},[I,u,h,R,g,m,V,w,L,_,F,z]);return E.useEffect(()=>{if(!H)return;const t=K(H.current);if(!t||!t.head||t.getElementById(q))return;const s=t.createElement("style");s.id=q,s.textContent=`
@layer {
  [${Z}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),t.head.prepend(s)},[H]),E.useEffect(()=>{let t=k.current;return()=>{var s;g||J((s=t.target)!==null&&s!==void 0?s:void 0);for(let d of t.disposables)d();t.disposables=[]}},[g]),{isPressed:T||oe,pressProps:ne(le,ce,{[Z]:!0})}}function N(e){return e.tagName==="A"&&e.hasAttribute("href")}function B(e,a){const{key:i,code:l}=e,c=a,v=c.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||l==="Space")&&!(c instanceof j(c).HTMLInputElement&&!se(c,i)||c instanceof j(c).HTMLTextAreaElement||c.isContentEditable)&&!((v==="link"||!v&&N(c))&&i!=="Enter")}function S(e,a){let i=a.clientX,l=a.clientY;return{currentTarget:e,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey,clientX:i,clientY:l}}function Me(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!N(e)}function ee(e,a){return e instanceof HTMLInputElement?!se(e,a):Me(e)}const Ie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function se(e,a){return e.type==="checkbox"||e.type==="radio"?a===" ":Ie.has(e.type)}export{He as $,ae as a,De as b,Oe as c,Ue as d,C as e};
