import{q as le,I as ze,aF as B,x as ie,Z as Se,bi as Le,j as e,Q as Ce,R as W,V as Ve,bj as ve,aU as Ue,bk as Be,bd as Ze,X as Ge,bl as Qe,aC as Xe,v as ge,w as Je,_ as Ye,L as et,aD as tt,bm as at,a0 as st,bn as rt,a1 as L,aG as Pe,a8 as nt,ac as ot,bo as lt,ab as it,bp as ct,bq as dt,aa as ut,b as O,br as pt,t as te,bs as ae,bt as xe,bu as bt,bv as ht,bw as mt,g as ft,c as vt,d as ke,a as gt,ay as yt,az as xt,av as wt,aw as St,ax as Ct,au as Pt,P as kt}from"./index-DPvthqng.js";import{t as jt,a as $t}from"./chunk-ML27DD5T-B2ai4kSf.js";import{r as D,R as Dt}from"./react-router-dom-1tQCWL6Q.js";import{z as A}from"./react-hot-toast-DgcDyfs-.js";import{a as Nt}from"./qq_manager-C5oNaPM_.js";import{$ as Mt,m as we,u as Et,b as It,d as Tt,c as _t,l as Rt}from"./chunk-O4OUNAUT-mQfIG1QP.js";import{$ as Ht,a as Kt}from"./useSelectableList-CoJPpodg.js";import{$ as Ft}from"./useHover-DuuVd9V3.js";import{$ as Ot}from"./usePress-D7H8h7T0.js";import{m as At,$ as Wt,a as qt,b as zt}from"./SelectionManager-CCqH5Hoi.js";import{$ as Lt,a as Vt,s as Ut}from"./chunk-KVDW62ZT-0mgxmO3M.js";import{m as Bt}from"./index-x5CrXQNg.js";import{c as Z}from"./chunk-NAV3ZXLI-SeqYkELO.js";import{b as Zt,g as Gt}from"./index-DBogSuhR.js";import{s as Qt,S as Xt}from"./switch_card-D7lcIl2b.js";import{G as Jt}from"./react-icons-BUGkfY7x.js";import{l as Yt}from"./index-BPXuVb9M.js";import{t as ea}from"./primitives-D092zWiZ.js";import{u as je}from"./use-config-D5c9a5I6.js";import{i as ta}from"./chunk-2QAN2V2R-Cxqf4Tfy.js";import{u as aa,C as sa}from"./react-hook-form-BW9Ziprb.js";import{u as ra}from"./use-dialog-CQGmxJkI.js";import"./react-dom-DS08_OVb.js";import"./monaco-editor-DSSspO4w.js";import"./index-CokAva9Y.js";import"./layout-Be7yeI5T.js";import"./gestures-aNIwnkxa.js";import"./features-animation-s7iH61WL.js";import"./chunk-SLABUSGS-PrywWFvD.js";import"./chunk-M3MASYO7-gFSchx_z.js";import"./chunk-EN4B57RQ-BmCZjlx8.js";import"./useToggle-DXhs-6tG.js";import"./filterDOMProps-CghfNOdR.js";import"./chunk-CAFRINWI-CcU5yOMx.js";var na=le({base:["w-full","p-1","min-w-[200px]"]});le({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...ze,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default"},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});le({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});le({base:"w-full flex flex-col gap-0.5 p-1"});var oa=(t,a)=>{if(!t&&!a)return{};const s=new Set([...Object.keys(t||{}),...Object.keys(a||{})]);return Array.from(s).reduce((r,n)=>({...r,[n]:B(t==null?void 0:t[n],a==null?void 0:a[n])}),{})},$e=ie((t,a)=>{var s;const{as:r,className:n,children:h,...m}=t,p=r||"div",i=Se(a),{slots:b,classNames:d}=Le(),f=B(d==null?void 0:d.footer,n);return e.jsx(p,{ref:i,className:(s=b.footer)==null?void 0:s.call(b,{class:f}),...m,children:h})});$e.displayName="HeroUI.CardFooter";var la=$e;const De=new WeakMap;function ia(t,a,s){let{shouldFocusWrap:r=!0,onKeyDown:n,onKeyUp:h,...m}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let p=Ce(t,{labelable:!0}),{listProps:i}=Ht({...m,ref:s,selectionManager:a.selectionManager,collection:a.collection,disabledKeys:a.disabledKeys,shouldFocusWrap:r,linkBehavior:"override"});return De.set(a,{onClose:t.onClose,onAction:t.onAction}),{menuProps:W(p,{onKeyDown:n,onKeyUp:h},{role:"menu",...i,onKeyDown:b=>{var d;b.key!=="Escape"&&((d=i.onKeyDown)===null||d===void 0||d.call(i,b))}})}}function ca(t,a,s){let{id:r,key:n,closeOnSelect:h,isVirtualized:m,"aria-haspopup":p,onPressStart:i,onPressUp:b,onPress:d,onPressChange:f,onPressEnd:c,onHoverStart:u,onHoverChange:y,onHoverEnd:C,onKeyDown:v,onKeyUp:M,onFocus:_,onFocusChange:j,onBlur:E,selectionManager:g=a.selectionManager}=t,S=!!p,H=S&&t["aria-expanded"]==="true";var x;let N=(x=t.isDisabled)!==null&&x!==void 0?x:g.isDisabled(n);var R;let P=(R=t.isSelected)!==null&&R!==void 0?R:g.isSelected(n),F=De.get(a),l=a.collection.getItem(n),o=t.onClose||F.onClose,k=Ve(),w=$=>{var ee;if(!S){if(!(l==null||(ee=l.props)===null||ee===void 0)&&ee.onAction?l.props.onAction():t.onAction&&t.onAction(n),F.onAction){let me=F.onAction;me(n)}$.target instanceof HTMLAnchorElement&&l&&k.open($.target,$,l.props.href,l.props.routerOptions)}},I="menuitem";S||(g.selectionMode==="single"?I="menuitemradio":g.selectionMode==="multiple"&&(I="menuitemcheckbox"));let T=ve(),q=ve(),Q=ve(),V={id:r,"aria-disabled":N||void 0,role:I,"aria-label":t["aria-label"],"aria-labelledby":T,"aria-describedby":[q,Q].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":p,"aria-expanded":t["aria-expanded"]};g.selectionMode!=="none"&&!S&&(V["aria-checked"]=P),m&&(V["aria-posinset"]=l==null?void 0:l.index,V["aria-setsize"]=Mt(a.collection));let J=$=>{$.pointerType==="keyboard"&&w($),i==null||i($)},ce=$=>{$.pointerType!=="keyboard"&&(w($),!S&&o&&(h??(g.selectionMode!=="multiple"||g.isLink(n)))&&o()),b==null||b($)},{itemProps:U,isFocused:de}=At({selectionManager:g,key:n,ref:s,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:ue,isPressed:pe}=Ot({onPressStart:J,onPress:d,onPressUp:ce,onPressChange:f,onPressEnd:c,isDisabled:N}),{hoverProps:be}=Ft({isDisabled:N,onHoverStart($){!Ue()&&!(H&&p==="dialog")&&(g.setFocused(!0),g.setFocusedKey(n)),u==null||u($)},onHoverChange:y,onHoverEnd:C}),{keyboardProps:oe}=Be({onKeyDown:$=>{if($.repeat){$.continuePropagation();return}switch($.key){case" ":!N&&g.selectionMode==="none"&&!S&&h!==!1&&o&&o();break;case"Enter":!N&&h!==!1&&!S&&o&&o();break;default:S||$.continuePropagation(),v==null||v($);break}},onKeyUp:M}),{focusProps:he}=Ze({onBlur:E,onFocus:_,onFocusChange:j}),Y=Ce(l==null?void 0:l.props);delete Y.id;let z=Ge(l==null?void 0:l.props);return{menuItemProps:{...V,...W(Y,z,S?{onFocus:U.onFocus,"data-key":U["data-key"]}:U,ue,be,oe,he),tabIndex:U.tabIndex!=null&&H?-1:U.tabIndex},labelProps:{id:T},descriptionProps:{id:q},keyboardShortcutProps:{id:Q},isFocused:de,isSelected:P,isPressed:pe,isDisabled:N}}function da(t){let{heading:a,"aria-label":s}=t,r=Qe();return{itemProps:{role:"presentation"},headingProps:a?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":s,"aria-labelledby":a?r:void 0}}}var[ua,Ne]=Xe({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"});function pa(t){const{isSelected:a,disableAnimation:s,...r}=t;return e.jsx("svg",{"aria-hidden":"true","data-selected":a,role:"presentation",viewBox:"0 0 17 18",...r,children:e.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:a?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:s?{}:{transition:"stroke-dashoffset 200ms ease"}})})}function ba(t){var a,s;const r=ge(),[n,h]=Je(t,we.variantKeys),{as:m,item:p,state:i,shortcut:b,description:d,startContent:f,endContent:c,isVirtualized:u,selectedIcon:y,className:C,classNames:v,onAction:M,autoFocus:_,onPress:j,onPressStart:E,onPressUp:g,onPressEnd:S,onPressChange:H,onHoverStart:x,onHoverChange:N,onHoverEnd:R,hideSelectedIcon:P=!1,isReadOnly:F=!1,closeOnSelect:l,onClose:o,onClick:k,...w}=n,I=(s=(a=t.disableAnimation)!=null?a:r==null?void 0:r.disableAnimation)!=null?s:!1,T=D.useRef(null),q=m||(w!=null&&w.href?"a":"li"),Q=typeof q=="string",{rendered:V,key:J}=p,ce=i.disabledKeys.has(J)||t.isDisabled,U=i.selectionManager.selectionMode!=="none",de=Et(),{isFocusVisible:ue,focusProps:pe}=Ye({autoFocus:_});k&&typeof k=="function"&&et("onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292","MenuItem");const be=D.useCallback(K=>{k==null||k(K),j==null||j(K)},[k,j]),{isPressed:oe,isFocused:he,isSelected:Y,isDisabled:z,menuItemProps:$,labelProps:ee,descriptionProps:me,keyboardShortcutProps:Re}=ca({key:J,onClose:o,isDisabled:ce,onPress:be,onPressStart:E,onPressUp:g,onPressEnd:S,onPressChange:H,"aria-label":n["aria-label"],closeOnSelect:l,isVirtualized:u,onAction:M},i,T);let{hoverProps:He,isHovered:ye}=tt({isDisabled:z,onHoverStart(K){at()||(i.selectionManager.setFocused(!0),i.selectionManager.setFocusedKey(J)),x==null||x(K)},onHoverChange:N,onHoverEnd:R}),fe=$;const G=D.useMemo(()=>we({...h,isDisabled:z,disableAnimation:I,hasTitleTextChild:typeof V=="string",hasDescriptionTextChild:typeof d=="string"}),[st(h),z,I,V,d]),Ke=B(v==null?void 0:v.base,C);F&&(fe=rt(fe));const Fe=(K={})=>({ref:T,...W(F?{}:pe,Pe(w,{enabled:Q}),fe,He,K),"data-focus":L(he),"data-selectable":L(U),"data-hover":L(de?ye||oe:ye),"data-disabled":L(z),"data-selected":L(Y),"data-pressed":L(oe),"data-focus-visible":L(ue),className:G.base({class:B(Ke,K.className)})}),Oe=(K={})=>({...W(ee,K),className:G.title({class:v==null?void 0:v.title})}),Ae=(K={})=>({...W(me,K),className:G.description({class:v==null?void 0:v.description})}),We=(K={})=>({...W(Re,K),className:G.shortcut({class:v==null?void 0:v.shortcut})}),qe=D.useCallback((K={})=>({"aria-hidden":L(!0),"data-disabled":L(z),className:G.selectedIcon({class:v==null?void 0:v.selectedIcon}),...K}),[z,G,v]);return{Component:q,domRef:T,slots:G,classNames:v,isSelectable:U,isSelected:Y,isDisabled:z,rendered:V,shortcut:b,description:d,startContent:f,endContent:c,selectedIcon:y,disableAnimation:I,getItemProps:Fe,getLabelProps:Oe,hideSelectedIcon:P,getDescriptionProps:Ae,getKeyboardShortcutProps:We,getSelectedIconProps:qe}}var Me=t=>{const{Component:a,slots:s,classNames:r,rendered:n,shortcut:h,description:m,isSelectable:p,isSelected:i,isDisabled:b,selectedIcon:d,startContent:f,endContent:c,disableAnimation:u,hideSelectedIcon:y,getItemProps:C,getLabelProps:v,getDescriptionProps:M,getKeyboardShortcutProps:_,getSelectedIconProps:j}=ba(t),E=D.useMemo(()=>{const g=e.jsx(pa,{disableAnimation:u,isSelected:i});return typeof d=="function"?d({icon:g,isSelected:i,isDisabled:b}):d||g},[d,i,b,u]);return e.jsxs(a,{...C(),children:[f,m?e.jsxs("div",{className:s.wrapper({class:r==null?void 0:r.wrapper}),children:[e.jsx("span",{...v(),children:n}),e.jsx("span",{...M(),children:m})]}):e.jsx("span",{...v(),children:n}),h&&e.jsx("kbd",{..._(),children:h}),p&&!y&&e.jsx("span",{...j(),children:E}),c]})};Me.displayName="HeroUI.MenuItem";var Ee=Me,Ie=ie(({item:t,state:a,as:s,variant:r,color:n,disableAnimation:h,onAction:m,closeOnSelect:p,className:i,classNames:b,showDivider:d=!1,hideSelectedIcon:f,dividerProps:c={},itemClasses:u,title:y,...C},v)=>{const M=s||"li",_=D.useMemo(()=>It(),[]),j=B(b==null?void 0:b.base,i),E=B(b==null?void 0:b.divider,c==null?void 0:c.className),{itemProps:g,headingProps:S,groupProps:H}=da({heading:t.rendered,"aria-label":t["aria-label"]});return e.jsxs(M,{"data-slot":"base",...W(g,C),className:_.base({class:j}),children:[t.rendered&&e.jsx("span",{...S,className:_.heading({class:b==null?void 0:b.heading}),"data-slot":"heading",children:t.rendered}),e.jsxs("ul",{...H,className:_.group({class:b==null?void 0:b.group}),"data-has-title":!!t.rendered,"data-slot":"group",children:[[...t.childNodes].map(x=>{const{key:N,props:R}=x;let P=e.jsx(Ee,{classNames:u,closeOnSelect:p,color:n,disableAnimation:h,hideSelectedIcon:f,item:x,state:a,variant:r,onAction:m,...R},N);return x.wrapper&&(P=x.wrapper(P)),P}),d&&e.jsx(Tt,{as:"li",className:_.divider({class:E}),...c})]})]})});Ie.displayName="HeroUI.MenuSection";var ha=Ie;class ma{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(a){let s=this.keyMap.get(a);var r;return s&&(r=s.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(a){let s=this.keyMap.get(a);var r;return s&&(r=s.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(a){var s;return(s=this.keyMap.get(a))!==null&&s!==void 0?s:null}at(a){const s=[...this.getKeys()];return this.getItem(s[a])}constructor(a,{expandedKeys:s}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=a,s=s||new Set;let r=p=>{if(this.keyMap.set(p.key,p),p.childNodes&&(p.type==="section"||s.has(p.key)))for(let i of p.childNodes)r(i)};for(let p of a)r(p);let n=null,h=0;for(let[p,i]of this.keyMap)n?(n.nextKey=p,i.prevKey=n.key):(this.firstKey=p,i.prevKey=void 0),i.type==="item"&&(i.index=h++),n=i,n.nextKey=void 0;var m;this.lastKey=(m=n==null?void 0:n.key)!==null&&m!==void 0?m:null}}function fa(t){let{onExpandedChange:a}=t,[s,r]=nt(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,a),n=Wt(t),h=D.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),m=qt(t,D.useCallback(i=>new ma(i,{expandedKeys:s}),[s]),null);return D.useEffect(()=>{n.focusedKey!=null&&!m.getItem(n.focusedKey)&&n.setFocusedKey(null)},[m,n.focusedKey]),{collection:m,expandedKeys:s,disabledKeys:h,toggleKey:i=>{r(va(s,i))},setExpandedKeys:r,selectionManager:new zt(m,n)}}function va(t,a){let s=new Set(t);return s.has(a)?s.delete(a):s.add(a),s}function ga(t){var a;const s=ge(),{as:r,ref:n,variant:h,color:m,children:p,disableAnimation:i=(a=s==null?void 0:s.disableAnimation)!=null?a:!1,onAction:b,closeOnSelect:d,itemClasses:f,className:c,state:u,topContent:y,bottomContent:C,hideEmptyContent:v=!1,hideSelectedIcon:M=!1,emptyContent:_="No items.",menuProps:j,onClose:E,classNames:g,...S}=t,H=r||"ul",x=Se(n),N=typeof H=="string",R=fa({...S,...j,children:p}),P=u||R,{menuProps:F}=ia({...S,...j,onAction:b},P,x),l=D.useMemo(()=>_t({className:c}),[c]),o=B(g==null?void 0:g.base,c);return{Component:H,state:P,variant:h,color:m,disableAnimation:i,onClose:E,topContent:y,bottomContent:C,closeOnSelect:d,className:c,itemClasses:f,getBaseProps:(T={})=>({ref:x,"data-slot":"base",className:l.base({class:o}),...Pe(S,{enabled:N}),...T}),getListProps:(T={})=>({"data-slot":"list",className:l.list({class:g==null?void 0:g.list}),...F,...T}),hideEmptyContent:v,hideSelectedIcon:M,getEmptyContentProps:(T={})=>({children:_,className:l.emptyContent({class:g==null?void 0:g.emptyContent}),...T})}}var ya=ie(function(a,s){const{Component:r,state:n,closeOnSelect:h,color:m,disableAnimation:p,hideSelectedIcon:i,hideEmptyContent:b,variant:d,onClose:f,topContent:c,bottomContent:u,itemClasses:y,getBaseProps:C,getListProps:v,getEmptyContentProps:M}=ga({...a,ref:s}),_=e.jsxs(r,{...v(),children:[!n.collection.size&&!b&&e.jsx("li",{children:e.jsx("div",{...M()})}),[...n.collection].map(j=>{const E={closeOnSelect:h,color:m,disableAnimation:p,item:j,state:n,variant:d,onClose:f,hideSelectedIcon:i,...j.props},g=oa(y,E==null?void 0:E.classNames);if(j.type==="section")return e.jsx(ha,{...E,itemClasses:g},j.key);let S=e.jsx(Ee,{...E,classNames:g},j.key);return j.wrapper&&(S=j.wrapper(S)),S})]});return e.jsxs("div",{...C(),children:[c,_,u]})}),xa=ya,wa=Kt,X=wa,Sa=ie(function(a,s){const{getMenuProps:r}=Ne();return e.jsx(ot,{children:e.jsx(lt,{contain:!0,restoreFocus:!0,children:e.jsx(xa,{...r(a,s)})})})}),Ca=Sa,Te=t=>{const{getMenuTriggerProps:a}=Ne(),{children:s,...r}=t;return e.jsx(it,{...a(r),children:s})};Te.displayName="HeroUI.DropdownTrigger";var Pa=Te,ka=(t,a)=>{if(t){const s=Array.isArray(t.children)?t.children:[...(t==null?void 0:t.items)||[]];if(s&&s.length)return s.find(n=>{if(n&&n.key===a)return n})||{}}return null},ja=(t,a,s)=>{const r=s||ka(t,a);return r&&r.props&&"closeOnSelect"in r.props?r.props.closeOnSelect:t==null?void 0:t.closeOnSelect};function $a(t){var a;const s=ge(),{as:r,triggerRef:n,isOpen:h,defaultOpen:m,onOpenChange:p,isDisabled:i,type:b="menu",trigger:d="press",placement:f="bottom",closeOnSelect:c=!0,shouldBlockScroll:u=!0,classNames:y,disableAnimation:C=(a=s==null?void 0:s.disableAnimation)!=null?a:!1,onClose:v,className:M,..._}=t,j=r||"div",E=D.useRef(null),g=n||E,S=D.useRef(null),H=D.useRef(null),x=Lt({trigger:d,isOpen:h,defaultOpen:m,onOpenChange:w=>{p==null||p(w),w||v==null||v()}}),{menuTriggerProps:N,menuProps:R}=Vt({type:b,trigger:d,isDisabled:i},x,g),P=D.useMemo(()=>na({className:M}),[M]),F=w=>{w!==void 0&&!w||c&&x.close()},l=(w={})=>{const I=W(_,w);return{state:x,placement:f,ref:H,disableAnimation:C,shouldBlockScroll:u,scrollRef:S,triggerRef:g,...I,classNames:{...y,...w.classNames,content:B(P,y==null?void 0:y.content,w.className)},shouldCloseOnInteractOutside:I!=null&&I.shouldCloseOnInteractOutside?I.shouldCloseOnInteractOutside:T=>dt(T,E,x)}},o=(w={})=>{const{onPress:I,onPressStart:T,...q}=N;return W(q,{isDisabled:i},w)},k=(w,I=null)=>({ref:ct(I,S),menuProps:R,closeOnSelect:c,...W(w,{onAction:(T,q)=>{const Q=ja(w,T,q);F(Q)},onClose:x.close})});return{Component:j,menuRef:S,menuProps:R,classNames:P,closeOnSelect:c,onClose:x.close,autoFocus:x.focusStrategy||!0,disableAnimation:C,getPopoverProps:l,getMenuProps:k,getMenuTriggerProps:o}}var _e=t=>{const{children:a,...s}=t,r=$a(s),[n,h]=Dt.Children.toArray(a);return e.jsx(ua,{value:r,children:e.jsxs(ut,{...r.getPopoverProps(),children:[n,h]})})};_e.displayName="HeroUI.Dropdown";var Da=_e;const Na=t=>{const{onOpen:a}=t;return e.jsxs(Da,{classNames:{content:"bg-opacity-30 backdrop-blur-md"},placement:"right",children:[e.jsx(Pa,{children:e.jsx(O,{color:"primary",startContent:e.jsx(Bt,{className:"text-2xl"}),children:"新建"})}),e.jsxs(Ca,{"aria-label":"Create Network Config",color:"primary",variant:"flat",onAction:s=>{a(s)},children:[e.jsx(X,{isReadOnly:!0,className:"cursor-default hover:!bg-transparent",textValue:"title",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-5 h-5 -ml-3",children:e.jsx(pt,{})}),e.jsx("div",{className:"text-primary-400",children:"新建网络配置"})]})},"title"),e.jsx(X,{textValue:"httpServers",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(xe,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["HTTP服务器",e.jsx(te,{content:"「由NapCat建立」一个HTTP服务器，你可以「使用框架连接」此服务器或者「自己构造请求发送」至此服务器。NapCat会根据你配置的IP和端口等建立一个地址，你或者你的框架应该连接到这个地址。",showArrow:!0,className:"max-w-64",children:e.jsx(O,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"httpServers"),e.jsx(X,{textValue:"httpSseServers",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(xe,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["HTTP SSE服务器",e.jsx(te,{content:"「由NapCat建立」一个HTTP SSE服务器，你可以「使用框架连接」此服务器或者「自己构造请求发送」至此服务器。NapCat会根据你配置的IP和端口等建立一个地址，你或者你的框架应该连接到这个地址。",showArrow:!0,className:"max-w-64",children:e.jsx(O,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"httpSseServers"),e.jsx(X,{textValue:"httpClients",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(bt,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["HTTP客户端",e.jsx(te,{content:"「由框架或者你自己建立」的一个用于「接收」NapCat向你发送请求的客户端，通常框架会提供一个HTTP地址。这个地址是你使用的框架提供的，NapCat会主动连接它。",showArrow:!0,className:"max-w-64",children:e.jsx(O,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"httpClients"),e.jsx(X,{textValue:"websocketServers",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(ht,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["Websocket服务器",e.jsx(te,{content:"「由NapCat建立」一个WebSocket服务器，你的框架应该连接到此服务器。NapCat会根据你配置的IP和端口等建立一个WebSocket地址，你或者你的框架应该连接到这个地址。",showArrow:!0,className:"max-w-64",children:e.jsx(O,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"websocketServers"),e.jsx(X,{textValue:"websocketClients",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(mt,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["Websocket客户端",e.jsx(te,{content:"「由框架或者你自己建立」的WebSocket，通常框架会「提供」一个ws地址，NapCat会主动连接它。",showArrow:!0,className:"max-w-64",children:e.jsx(O,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"websocketClients")]})]})};function Ma(t){return Jt({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M10 11C10 10.4477 10.4477 10 11 10H13C13.5523 10 14 10.4477 14 11C14 11.5523 13.5523 12 13 12H11C10.4477 12 10 11.5523 10 11Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M11 14C10.4477 14 10 14.4477 10 15C10 15.5523 10.4477 16 11 16H13C13.5523 16 14 15.5523 14 15C14 14.4477 13.5523 14 13 14H11Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M9.09447 4.74918C8.41606 4.03243 8 3.0648 8 2H10C10 3.10457 10.8954 4 12 4C13.1046 4 14 3.10457 14 2H16C16 3.0648 15.5839 4.03243 14.9055 4.74918C16.1782 5.45491 17.1673 6.6099 17.6586 8H19C19.5523 8 20 8.44772 20 9C20 9.55229 19.5523 10 19 10H18V12H19C19.5523 12 20 12.4477 20 13C20 13.5523 19.5523 14 19 14H18V16H19C19.5523 16 20 16.4477 20 17C20 17.5523 19.5523 18 19 18H17.6586C16.8349 20.3304 14.6124 22 12 22C9.38756 22 7.16508 20.3304 6.34141 18H5C4.44772 18 4 17.5523 4 17C4 16.4477 4.44772 16 5 16H6V14H5C4.44772 14 4 13.5523 4 13C4 12.4477 4.44772 12 5 12H6V10H5C4.44772 10 4 9.55229 4 9C4 8.44772 4.44772 8 5 8H6.34141C6.83274 6.6099 7.82181 5.45491 9.09447 4.74918ZM8 16V10C8 7.79086 9.79086 6 12 6C14.2091 6 16 7.79086 16 10V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16Z",fill:"currentColor"},child:[]}]})(t)}const Ea=({title:t,action:a,tag:s,enableSwitch:r,children:n})=>e.jsxs(ft,{className:"bg-opacity-50 backdrop-blur-sm",children:[e.jsxs(vt,{className:"pb-0 flex items-center",children:[s&&e.jsx("div",{className:"text-center text-default-400 mb-1 absolute top-0 left-1/2 -translate-x-1/2 text-sm pointer-events-none bg-warning-100 dark:bg-warning-50 px-2 rounded-b",children:s}),e.jsx("h2",{className:ke(ea({color:"foreground",size:"xs",shadow:!0}),"truncate"),children:t}),e.jsx("div",{className:"ml-auto",children:r})]}),e.jsx(gt,{className:"text-sm",children:n}),e.jsx(la,{children:a})]}),se=({data:t,showType:a,typeLabel:s,fields:r,onEdit:n,onEnable:h,onDelete:m,onEnableDebug:p})=>{const{name:i,enable:b,debug:d}=t,[f,c]=D.useState(!1),u=()=>{c(!0),h().finally(()=>c(!1))},y=()=>{c(!0),m().finally(()=>c(!1))},C=()=>{c(!0),p().finally(()=>c(!1))};return e.jsx(Ea,{action:e.jsxs(Zt,{fullWidth:!0,isDisabled:f,radius:"sm",size:"sm",variant:"flat",children:[e.jsx(O,{color:"warning",startContent:e.jsx(Gt,{size:16}),onPress:n,children:"编辑"}),e.jsx(O,{color:d?"secondary":"success",variant:"flat",startContent:e.jsx(Ma,{style:{width:"16px",height:"16px",minWidth:"16px",minHeight:"16px"}}),onPress:C,children:d?"关闭调试":"开启调试"}),e.jsx(O,{className:"bg-danger/20 text-danger hover:bg-danger/30 transition-colors",variant:"flat",startContent:e.jsx(Yt,{size:16}),onPress:y,children:"删除"})]}),enableSwitch:e.jsx(Qt,{isDisabled:f,isSelected:b,onChange:u}),tag:a&&s,title:i,children:e.jsx("div",{className:"grid grid-cols-2 gap-1",children:r.map((v,M)=>e.jsxs("div",{className:`flex items-center gap-2 ${v.label==="URL"?"col-span-2":""}`,children:[e.jsx("span",{className:"text-default-400",children:v.label}),v.render?v.render(v.value):e.jsx("span",{children:v.value})]},M))})})},Ia=t=>{const{data:a,showType:s,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m}=t,{url:p,reportSelfMessage:i,messagePostFormat:b}=a,d=[{label:"URL",value:p},{label:"消息格式",value:b},{label:"上报自身消息",value:i,render:f=>e.jsx(Z,{color:f?"success":"default",size:"sm",variant:"flat",children:f?"是":"否"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"HTTP客户端",fields:d,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m})},Ta=t=>{const{data:a,showType:s,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m}=t,{host:p,port:i,enableCors:b,enableWebsocket:d,messagePostFormat:f}=a,c=[{label:"主机",value:p},{label:"端口",value:i},{label:"消息格式",value:f},{label:"CORS",value:b,render:u=>e.jsx(Z,{color:u?"success":"default",size:"sm",variant:"flat",children:u?"已启用":"未启用"})},{label:"WS",value:d,render:u=>e.jsx(Z,{color:u?"success":"default",size:"sm",variant:"flat",children:u?"已启用":"未启用"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"HTTP服务器",fields:c,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m})},_a=t=>{const{data:a,showType:s,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m}=t,{host:p,port:i,enableCors:b,enableWebsocket:d,messagePostFormat:f}=a,c=[{label:"主机",value:p},{label:"端口",value:i},{label:"消息格式",value:f},{label:"CORS",value:b,render:u=>e.jsx(Z,{color:u?"success":"default",size:"sm",variant:"flat",children:u?"已启用":"未启用"})},{label:"WS",value:d,render:u=>e.jsx(Z,{color:u?"success":"default",size:"sm",variant:"flat",children:u?"已启用":"未启用"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"HTTP服务器",fields:c,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m})},Ra=t=>{const{data:a,showType:s,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m}=t,{url:p,heartInterval:i,reconnectInterval:b,messagePostFormat:d,reportSelfMessage:f}=a,c=[{label:"URL",value:p},{label:"重连间隔",value:`${b}ms`},{label:"心跳间隔",value:`${i}ms`},{label:"消息格式",value:d},{label:"上报自身消息",value:f,render:u=>e.jsx(Z,{color:u?"success":"default",size:"sm",variant:"flat",children:u?"是":"否"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"Websocket客户端",fields:c,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m})},Ha=t=>{const{data:a,showType:s,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m}=t,{host:p,port:i,heartInterval:b,messagePostFormat:d,reportSelfMessage:f,enableForcePushEvent:c}=a,u=[{label:"主机",value:p},{label:"端口",value:i},{label:"心跳间隔",value:`${b}ms`},{label:"消息格式",value:d},{label:"上报自身消息",value:f,render:y=>e.jsx(Z,{color:y?"success":"default",size:"sm",variant:"flat",children:y?"是":"否"})},{label:"强制推送事件",value:c,render:y=>e.jsx(Z,{color:y?"success":"default",size:"sm",variant:"flat",children:y?"是":"否"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"Websocket服务器",fields:u,onEdit:r,onEnable:n,onDelete:h,onEnableDebug:m})},re=({data:t,defaultValues:a,onClose:s,onSubmit:r,fields:n})=>{const{control:h,handleSubmit:m,formState:p,setValue:i,reset:b}=aa({defaultValues:a}),f=m(async c=>{await r(c),s()},c=>{var y;const u=Object.values(c);u.length>0&&A.error((y=u[0])==null?void 0:y.message)});return D.useEffect(()=>{if(t){const c=Object.keys(t);for(const u of c){const y=t[u];i(u,y)}}else b()},[t,b,i]),e.jsxs(e.Fragment,{children:[e.jsx(yt,{children:e.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2 w-full",children:n.map(c=>e.jsx("div",{className:c.colSpan===1?"col-span-1":"col-span-2",children:e.jsx(sa,{control:h,name:c.name,rules:c.isRequired?{required:`请填写${c.label}`}:void 0,render:({field:u})=>{var y;switch(c.type){case"input":return e.jsx(ta,{value:u.value,onValueChange:C=>u.onChange(C),ref:u.ref,isRequired:c.isRequired,isDisabled:c.isDisabled,label:c.label,placeholder:c.placeholder});case"select":return e.jsx(Ut,{...u,ref:u.ref,isRequired:c.isRequired,label:c.label,placeholder:c.placeholder,selectedKeys:[u.value],value:u.value.toString(),children:((y=c.options)==null?void 0:y.map(C=>e.jsx(Rt,{value:C.value,children:C.value},C.key)))||e.jsx(e.Fragment,{})});case"switch":return e.jsx(Xt,{...u,value:u.value,description:c.description,label:c.label});default:return e.jsx(e.Fragment,{})}}})},c.name))})}),e.jsxs(xt,{children:[e.jsx(O,{color:"primary",isDisabled:p.isSubmitting,variant:"light",onPress:s,children:"关闭"}),e.jsx(O,{color:"primary",isLoading:p.isSubmitting,onPress:()=>f(),children:"保存"})]})]})};function ne(t){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()-_=+[]{}|;:,.<>?";let s="";for(let r=0;r<t;r++)s+=a.charAt(Math.floor(Math.random()*a.length));return s}const Ka=({data:t,onClose:a,onSubmit:s})=>{const r={enable:!1,name:"",url:"http://localhost:8080",reportSelfMessage:!1,messagePostFormat:"array",token:ne(16),debug:!1},n=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"url",label:"URL",type:"input",placeholder:"请输入URL",isRequired:!0},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}],colSpan:1},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"}];return e.jsx(re,{data:t,defaultValues:r,onClose:a,onSubmit:s,fields:n})},Fa=({data:t,onClose:a,onSubmit:s})=>{const r={enable:!1,name:"",host:"127.0.0.1",port:3e3,enableCors:!0,enableWebsocket:!0,messagePostFormat:"array",token:ne(16),debug:!1},n=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"host",label:"Host",type:"input",placeholder:"请输入主机地址",isRequired:!0},{name:"port",label:"Port",type:"input",placeholder:"请输入端口",isRequired:!0},{name:"enableCors",label:"启用CORS",type:"switch",description:"是否启用CORS跨域",colSpan:1},{name:"enableWebsocket",label:"启用Websocket",type:"switch",description:"是否启用Websocket",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}]},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"}];return e.jsx(re,{data:t,defaultValues:r,onClose:a,onSubmit:s,fields:n})},Oa=({data:t,onClose:a,onSubmit:s})=>{const r={enable:!1,name:"",host:"127.0.0.1",port:3e3,enableCors:!0,enableWebsocket:!0,messagePostFormat:"array",token:ne(16),debug:!1,reportSelfMessage:!1},n=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"host",label:"Host",type:"input",placeholder:"请输入主机地址",isRequired:!0},{name:"port",label:"Port",type:"input",placeholder:"请输入端口",isRequired:!0},{name:"enableCors",label:"启用CORS",type:"switch",description:"是否启用CORS跨域",colSpan:1},{name:"enableWebsocket",label:"启用Websocket",type:"switch",description:"是否启用Websocket",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}]},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1}];return e.jsx(re,{data:t,defaultValues:r,onClose:a,onSubmit:s,fields:n})},Aa=({data:t,onClose:a,onSubmit:s})=>{const r={enable:!1,name:"",url:"ws://localhost:8082",reportSelfMessage:!1,messagePostFormat:"array",token:ne(16),debug:!1,heartInterval:3e4,reconnectInterval:3e4},n=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"url",label:"URL",type:"input",placeholder:"请输入URL",isRequired:!0},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}],colSpan:1},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"},{name:"heartInterval",label:"心跳间隔",type:"input",placeholder:"请输入心跳间隔",isRequired:!0,colSpan:1},{name:"reconnectInterval",label:"重连间隔",type:"input",placeholder:"请输入重连间隔",isRequired:!0,colSpan:1}];return e.jsx(re,{data:t,defaultValues:r,onClose:a,onSubmit:s,fields:n})},Wa=({data:t,onClose:a,onSubmit:s})=>{const r={enable:!1,name:"",host:"127.0.0.1",port:3001,reportSelfMessage:!1,enableForcePushEvent:!0,messagePostFormat:"array",token:ne(16),debug:!1,heartInterval:3e4},n=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"host",label:"Host",type:"input",placeholder:"请输入主机地址",isRequired:!0},{name:"port",label:"Port",type:"input",placeholder:"请输入端口",isRequired:!0,colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}],colSpan:1},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1},{name:"enableForcePushEvent",label:"强制推送事件",type:"switch",description:"是否强制推送事件",colSpan:1},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"},{name:"heartInterval",label:"心跳间隔",type:"input",placeholder:"请输入心跳间隔",isRequired:!0}];return e.jsx(re,{data:t,defaultValues:r,onClose:a,onSubmit:s,fields:n})},qa={httpServers:"HTTP Server",httpClients:"HTTP Client",httpSseServers:"HTTP SSE Server",websocketServers:"Websocket Server",websocketClients:"Websocket Client"},za=t=>{const{isOpen:a,onOpenChange:s,field:r,data:n}=t,{createNetworkConfig:h,updateNetworkConfig:m}=je(),p=!n,i=async d=>{try{p?await h(r,d):await m(r,d),A.success("保存配置成功")}catch(f){const c=f.message;throw A.error(`保存配置失败: ${c}`),f}},b=d=>{switch(r){case"httpServers":return e.jsx(Fa,{data:n,onClose:d,onSubmit:i});case"httpClients":return e.jsx(Ka,{data:n,onClose:d,onSubmit:i});case"websocketServers":return e.jsx(Wa,{data:n,onClose:d,onSubmit:i});case"websocketClients":return e.jsx(Aa,{data:n,onClose:d,onSubmit:i});case"httpSseServers":return e.jsx(Oa,{data:n,onClose:d,onSubmit:i});default:return null}};return e.jsx(wt,{backdrop:"blur",isDismissable:!1,isOpen:a,size:"lg",scrollBehavior:"outside",onOpenChange:s,children:e.jsx(St,{children:d=>e.jsxs(e.Fragment,{children:[e.jsx(Ct,{className:"flex flex-col gap-1",children:qa[r]}),b(d)]})})})},La=({isEmpty:t})=>e.jsx("div",{className:ke("text-default-400",{hidden:!t}),children:"暂时还没有配置项哈"});function ks(){const{config:t,refreshConfig:a,deleteNetworkConfig:s,enableNetworkConfig:r,enableDebugNetworkConfig:n}=je(),[h,m]=D.useState("httpServers"),[p,i]=D.useState(""),{network:{httpServers:b,httpClients:d,httpSseServers:f,websocketServers:c,websocketClients:u}}=t,[y,C]=D.useState(!1),{isOpen:v,onOpen:M,onOpenChange:_}=Pt(),j=ra(),E=D.useMemo(()=>t.network[h].find(o=>o.name===p),[h,p,t]),g=async()=>{C(!0);try{await a(),C(!1)}catch(l){const o=l.message;A.error(`获取配置失败: ${o}`)}finally{C(!1)}},S=l=>{m(l),i(""),M()},H=async(l,o)=>new Promise((k,w)=>{j.confirm({title:"删除配置",content:`确定要删除配置「${o}」吗?`,onConfirm:async()=>{try{await s(l,o),A.success("删除配置成功"),k()}catch(I){const T=I.message;A.error(`删除配置失败: ${T}`),w(I)}},onCancel:()=>{k()}})}),x=async(l,o)=>{try{await r(l,o),A.success("更新配置成功")}catch(k){const w=k.message;throw A.error(`更新配置失败: ${w}`),k}},N=async(l,o)=>{try{await n(l,o),A.success("更新配置成功")}catch(k){const w=k.message;throw A.error(`更新配置失败: ${w}`),k}},R=(l,o)=>{m(l),i(o),M()},P=(l,o,k=!1)=>{switch(l){case"httpServers":return e.jsx(Ta,{showType:k,data:o,onDelete:async()=>{await H("httpServers",o.name)},onEdit:()=>{R("httpServers",o.name)},onEnable:async()=>{await x("httpServers",o.name)},onEnableDebug:async()=>{await N("httpServers",o.name)}},o.name);case"httpClients":return e.jsx(Ia,{showType:k,data:o,onDelete:async()=>{await H("httpClients",o.name)},onEdit:()=>{R("httpClients",o.name)},onEnable:async()=>{await x("httpClients",o.name)},onEnableDebug:async()=>{await N("httpClients",o.name)}},o.name);case"httpSseServers":return e.jsx(_a,{showType:k,data:o,onDelete:async()=>{await H("httpSseServers",o.name)},onEdit:()=>{R("httpSseServers",o.name)},onEnable:async()=>{await x("httpSseServers",o.name)},onEnableDebug:async()=>{await N("httpSseServers",o.name)}},o.name);case"websocketServers":return e.jsx(Ha,{showType:k,data:o,onDelete:async()=>{await H("websocketServers",o.name)},onEdit:()=>{R("websocketServers",o.name)},onEnable:async()=>{await x("websocketServers",o.name)},onEnableDebug:async()=>{await N("websocketServers",o.name)}},o.name);case"websocketClients":return e.jsx(Ra,{showType:k,data:o,onDelete:async()=>{await H("websocketClients",o.name)},onEdit:()=>{R("websocketClients",o.name)},onEnable:async()=>{await x("websocketClients",o.name)},onEnableDebug:async()=>{await N("websocketClients",o.name)}},o.name)}},F=[{key:"all",title:"全部",items:[...b,...d,...c,...u,...f].sort((l,o)=>l.name.localeCompare(o.name)).map(l=>b.find(o=>o.name===l.name)?P("httpServers",l,!0):f.find(o=>o.name===l.name)?P("httpSseServers",l,!0):d.find(o=>o.name===l.name)?P("httpClients",l,!0):c.find(o=>o.name===l.name)?P("websocketServers",l,!0):u.find(o=>o.name===l.name)?P("websocketClients",l,!0):null)},{key:"httpServers",title:"HTTP服务器",items:b.map(l=>P("httpServers",l))},{key:"httpClients",title:"HTTP客户端",items:d.map(l=>P("httpClients",l))},{key:"httpSseServers",title:"HTTP SSE服务器",items:f.map(l=>P("httpSseServers",l))},{key:"websocketServers",title:"Websocket服务器",items:c.map(l=>P("websocketServers",l))},{key:"websocketClients",title:"Websocket客户端",items:u.map(l=>P("websocketClients",l))}];return D.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"网络配置 - NapCat WebUI"}),e.jsxs("div",{className:"p-2 md:p-4 relative",children:[e.jsx(za,{data:E,field:h,isOpen:v,onOpenChange:_}),e.jsx(kt,{loading:y}),e.jsxs("div",{className:"flex mb-6 items-center gap-4",children:[e.jsx(Na,{onOpen:S}),e.jsx(O,{isIconOnly:!0,color:"primary",radius:"full",variant:"flat",onPress:g,children:e.jsx(Nt,{size:24})})]}),e.jsx(jt,{"aria-label":"Network Configs",className:"max-w-full",items:F,classNames:{tabList:"bg-opacity-50 backdrop-blur-sm",cursor:"bg-opacity-60 backdrop-blur-sm"},children:l=>e.jsxs($t,{title:l.title,children:[e.jsx(La,{isEmpty:!l.items.length}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 justify-start items-stretch gap-x-2 gap-y-4",children:l.items})]},l.key)})]})]})}export{ks as default};
